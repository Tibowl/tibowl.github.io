<!doctype html>
<html lang="en">

<head>
    <title>Flat is Justice! - Priconne List Maker</title>
    <meta name="theme-color" content="#082E6B" />
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Flat is Justice - Priconne List Maker">
    <meta name="twitter:description" content="Princess Connect: ReDive character list maker">
    <meta name="description" content="Princess Connect: ReDive character list maker">
    <link rel="stylesheet" href="./list/style.css">
    <script src="https://unpkg.com/blob-util/dist/blob-util.min.js"></script>
</head>

<body class="container">
    <a href="."><b>Flat is Justice - Home</b></a><br>

    <main>
        <h1>Princess Connect List Maker</h1>

        <h2 id="auto">Automatic entry</h2>
        <p>Click on 'Start' and select Princess Connect window. Make sure the game is running at maximum resolution
            (1280x720). Open the UE equipment screen and go through all characters.</p>

        <p><button id="start" class="green">Start</button><button id="stop" class="red" style="display: none;">Stop</button></p>
        <details>
            <summary>Override offsets (in case detection is wrong)</summary>
            If some things aren't being detected correctly, try changing these. The top left corners should match with game. Use -1 for auto.<br>
            <label for="x-offset">Override X-offset</label><input id="x-offset" type="number" min="-1" value="-1" max="128"> - using <span id="x-offset-used">0</span><br>
            <label for="x-offset">Override Y-offset</label><input id="y-offset" type="number" min="-1" value="-1" max="128"> - using <span id="y-offset-used">0</span><br>
        </details>
        <video id="video" autoplay></video>
        <canvas id="canvas" style="max-width: 900px;"></canvas>
        <canvas id="hashCanvas"></canvas>

        <div>
            <h3>Recently detected</h3>
            <ul id="recentDetect"></ul>
        </div>
        <br>

        <h2 id="manual">Manual entry</h2>
        <p></p>

        <details>
            <summary>Enter manually or update incorrectly detected ones. (click to expand/collapse)</summary>
            <table>
                <thead>
                    <tr>
                        <th style="min-width: 170px;">Name</th>
                        <th style="width: 120px;">Stars</th>
                        <th style="width: 120px;">Ranks</th>
                        <th style="width: 120px;">UE Level</th>
                    </tr>
                </thead>
                <tbody id="data-entry"></tbody>
            </table>
        </details>

        <h2 id="options">Options</h2>
        <details id="config">
            <summary>Change image options</summary>
        </details>
        <h2 id="out">Image output</h2>
        <button id="enableOutput" class="green" onclick="toggleOutput(true)">Enable</button>
        <button id="disableOutput" class="red" style="display:none;" onclick="toggleOutput(false)">Disable</button>
        <br>
        <br>
        <a id="download" target="_self" href="javascript:void(0)">
            <button>Download</button><br>
            <canvas id="output" style="max-width: 900px;"></canvas>
        </a>
        <canvas id="scrap"></canvas>
        <img style="display: none;" id="bg">
    </main>
    <script src="./list/hashlist.js" type="text/javascript"></script>
    <script src="./list/auto-entry.js" type="text/javascript"></script>
    <script src="./list/manual-entry.js" type="text/javascript"></script>
    <script src="./list/image.js" type="text/javascript"></script>
    <script src="./list/download.js" type="text/javascript"></script>
</body>

</html>